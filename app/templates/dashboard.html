{% extends 'base.html' %}
{% block content %}

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{url_for('static', filename='css/dash.css')}}">
    <title>DashBoards</title>

    <!-- Biblioteca de Ã­cones e grÃ¡ficos -->
  

    <div class="container-fluid">
        
        <div class="row">
            
        
            <!-- Sidebar -->
            {% include 'nav_dash.html' %}

            <!-- ConteÃºdo principal -->
             
            <main id="main" class="col-md-9 ms-sm-auto col-lg-10 px-md-4 bg-white">
                <h1 class="mt-4">Dashboard de Vendas</h1>

                <div class="row">
                    
                    <div id="graficos" class="row mt-4">
                        <div class="col-md-6">
                            <canvas id="chartVendas"></canvas>
                        </div>
                        <div class="col-md-6">
                            <canvas id="chartClientes"></canvas>
                        </div>
                        <hr>
                        <div id="graph_p" class="col-md-4">        
                            <canvas id="chartProdutos"></canvas>
                        </div>
                    </div>
                    <hr>
                    <mb-3>
                        <div class="row mb-3">
                            <div class="col-md-3">
                                <div class="cardDash">
                                <h3>Total de Vendas</h3>
                                <p>R$ {{ valor_total }}</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="cardDash">
                                <h3>Novos Clientes</h3>
                                <p>87</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="cardDash">
                                <h3>Produtos Vendidos</h3>
                                <p>{{ soma }}</p>
                                </div>
                            </div>
                        </div>
                    </mb-3>
                </div>

            </main>
        </div>
    </div>

    
    <script>
    // ðŸ”¥ dados vindos do Flask
        const NomeProdutos = {{ nome_produto | tojson }};
        const produtosVendidos = {{ quantidade | tojson }};
        const produtosLabels = {{ top_produtos | tojson }};
        const produtosData = {{ top_quantidades | tojson }};
        const meses = {{ meses | tojson }};
        const valores = {{ valores | tojson }};
    </script>
    <script src="{{url_for('static', filename='js/dashboard.js')}}"></script>
{% endblock %}


